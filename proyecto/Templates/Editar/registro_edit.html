{% extends 'barra_lateral.html' %}
{% load static %}

{% block content %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualizar Cliente</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/register.css' %}">
</head>

<body>
    <div class="container mt-5">
        <h2 class="titulo_registro">Actualizar Cliente</h2>
        <form action="{% url 'editar_usuario' id=zz.id %}" method="post">

            {% csrf_token %}
            <div class="header-container">
                <h2 class="section-header">Datos de Personales</h2>
                <div class="section-container">
                    
                    <div class="section-left">
                        <label for="nombre_1" class="form-label">Primer Nombre:</label>
                        <input type="text" id="nombre_1" name="nombre_1" value="{{zz.nombre_1}}" class="form-control" required>
                    </div>
                    <div class="section-right">
                        <label for="nombre_2" class="form-label">Segundo Nombre:</label>
                        <input type="text" id="nombre_2" name="nombre_2" value="{{zz.nombre_2}}" class="form-control">
                    </div>
                    <div class="section-left">
                        <label for="apellido_1" class="form-label">Primer Apellido:</label>
                        <input type="text" id="apellido_1" name="apellido_1" value="{{zz.apellido_1}}" class="form-control" required>
                    </div>
                    <div class="section-right">
                        <label for="apellido_2" class="form-label">Segundo Apellido:</label>
                        <input type="text" id="apellido_2" name="apellido_2" value="{{zz.apellido_2}}" class="form-control">
                    </div>
                    <div class="section-left">
                        <label for="genero" class="form-label">Género:</label>
                        <select id="genero" name="genero" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for genero in generos %}
                                <option value="{{ genero.id }}"
                                {% if genero.descripcion == zz.genero.descripcion %}
                                    selected
                                {% endif %}>
                                {{ genero.descripcion }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-right">
                        <label for="tipo_documento" class="form-label">Tipo de Documento:</label>
                        <select id="tipo_documento" name="tipo_documento" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for documento in documentos %}
                            <option value="{{ documento.id }}" {% if documento.id == zz.tipo_doc_id %}selected{% endif %}>{{ documento.descripcion }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-left">
                        <label for="numero_documento" class="form-label">Número de Documento:</label>
                        <input type="text" id="numero_documento" name="numero_documento" value="{{zz.num_documento}}" class="form-control" required>
                    </div>
                    <div class="section-right">
                        <label for="fecha_expedicion" class="form-label">Fecha de Expedición:</label>
                        <input type="date" id="fecha_expedicion" name="fecha_expedicion" value="{{ zz.fecha_expedicion|date:'Y-m-d' }}" class="form-control" required>
                    </div>
                    <div class="section-left">
                        <label for="departamento_expedicion" class="form-label">Departamento de Expedición:</label>
                        <select id="departamento_expedicion" name="departamento_expedicion" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for departamento in departamentos %}
                            <option value="{{ departamento.id }}" {% if departamento.id == zz.lugar_nacimiento_id %}selected{% endif %}>{{ departamento.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-right">
                        <label for="ciudad_expedicion" class="form-label">Ciudad de Expedición:</label>
                        <select id="ciudad_expedicion" name="ciudad_expedicion" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for ciudad in ciudades %}
            
                            <option value="{{ ciudad.id }}" {% if ciudad.id == zz.lugar_expedicion_id %}selected{% endif %}>{{ ciudad.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-left">
                        <label for="estado_civil" class="form-label">Estado Civil:</label>
                        <select id="estado_civil" name="estado_civil" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for estadoc in estadosc %}
                            
                            <option value="{{ estadoc.id }}" {% if estadoc.id == zz.estado_civil_id %}selected{% endif %}>{{ estadoc.descripcion }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-right">
                        <label for="ocupacion" class="form-label">Ocupación:</label>
                        <select id="ocupacion" name="ocupacion" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for ocupacion in ocupaciones %}
                            <option value="{{ ocupacion.id }}" {% if ocupacion.id == zz.ocupacion_id %}selected{% endif %}>{{ ocupacion.descripcion }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <h2 class="section-header">Datos de Nacimiento</h2>
                <div class="section-container">
                    <div class="section-left">
                        <label for="fecha_nacimiento" class="form-label">Fecha de Nacimiento:</label>
                        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" value="{{ zz.fecha_nacimiento|date:'Y-m-d' }}" class="form-control" required>
                    </div>
                    <div class="section-right">
                        <label for="departamento_nacimiento" class="form-label">Departamento de Nacimiento:</label>
                        <select id="departamento_nacimiento" name="departamento_nacimiento" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for departamento in departamentos %}
                            <option value="{{ departamento.id }}" {% if departamento.id == zz.lugar_nacimiento_id %}selected{% endif %}>{{ departamento.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-left">
                        <label for="ciudad_nacimiento" class="form-label">Ciudad de Nacimiento:</label>
                        <select id="ciudad_nacimiento" name="ciudad_nacimiento" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for ciudad in ciudades %}
                            <option value="{{ ciudad.id }}" {% if ciudad.id == zz.lugar_nacimiento_id %}selected{% endif %}>{{ ciudad.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-right">
                    </div>
                </div>
                <h2 class="section-header">Dirección</h2>
                <div class="section-container">
                    <div class="section-left">
                        <label for="nomenclatura" class="form-label">Nomenclatura:</label>
                        <input type="text" id="nomenclatura" name="nomenclatura" value="{{zz.nomenclatura}}" class="form-control">
                    </div>
                    <div class="section-right">
                        <label for="barrio_vereda" class="form-label">Barrio o Vereda:</label>
                        <input type="text" id="barrio_vereda" name="barrio_vereda" value="{{zz.barrio_vereda}}" class="form-control" required>
                    </div>
                    <div class="section-left">
                        <label for="departamento_direccion" class="form-label">Departamento:</label>
                        <select id="departamento_direccion" name="departamento_direccion"  class="form-select" >
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for departamento in departamentos %}
                        
                            <option value="{{ departamento.id }}" {% if departamento.id == zz.departamento_id %}selected{% endif %}>{{ departamento.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-right">
                        <label for="ciudad_direccion" class="form-label">Ciudad:</label>
                        <select id="ciudad_direccion" name="ciudad_direccion" class="form-select">
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for ciudad in ciudades %}
                            <option value="{{ ciudad.id }}" {% if ciudad.id == zz.ciudad_id %}selected{% endif %}>{{ ciudad.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-left">
                        <label for="pais_direccion" class="form-label">País:</label>
                        <select id="pais_direccion" name="pais_direccion" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for pais in paises %}
                            <option value="{{ pais.id }}">{{ pais.nombre }}</option>
                            <option value="{{ pais.id }}" {% if pais.id == zz.pais_id %}selected{% endif %}>{{ pais.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                
                <h2 class="section-header">Datos de Contacto</h2>
                <div class="section-container">
                    
                    <div class="section-left">
                        <label for="correo_electronico" class="form-label">Correo Electrónico:</label>
                        <input type="email" id="correo_electronico" name="correo_electronico" value="{{zz.correo_electronico}}" class="form-control">
                    </div>
                    <div class="section-right">
                        <label for="telefono_fijo" class="form-label">Teléfono Fijo:</label>
                        <input type="text" id="telefono_fijo" name="telefono_fijo" value="{{zz.telefono_fijo}}" class="form-control" >
                    </div>
                    <div class="section-left">
                        <label for="celular1" class="form-label">Celular 1:</label>
                        <input type="text" id="celular1" name="celular1" value="{{zz.celular1}}" class="form-control" required>
                    </div>
                    <div class="section-right">
                        <label for="celular2" class="form-label">Celular 2:</label>
                        <input type="text" id="celular2" name="celular2" value="{{zz.celular2}}" class="form-control">
                    </div>
                </div>
                <h2 class="section-header">Otros</h2>
                <div class="section-container">
                    
                    <div class="section-left">
                        <label for="tipo_vivienda" class="form-label">Tipo de Vivienda:</label>
                        <select id="tipo_vivienda" name="tipo_vivienda" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for vivienda in viviendas %}
                            <option value="{{ vivienda.id }}" {% if vivienda.id == zz.tipo_vivienda_id %}selected{% endif %}>{{ vivienda.descripcion }}</option>
                            {% endfor %}
                        </select>
                        </select>
                    </div>
                    <div class="section-right">
                        <label for="estudios" class="form-label">Estudios:</label>
                        <select id="estudios" name="estudios" class="form-select">
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for estudio in estudios %}
                            <option value="{{ estudio.id }}" {% if estudio.id == zz.estudios_id %}selected{% endif %}>{{ estudio.descripcion }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="section-left">
                        <label for="deporte_favorito" class="form-label">Deporte Favorito:</label>
                        <input type="text" id="deporte_favorito" name="deporte_favorito" value="{{zz.deporte_favorito}}" class="form-control">
                    </div>
                    <div class="section-right">
                        <label for="edad" class="form-label">Edad:</label>
                        <input type="number" id="edad" name="edad" value="{{zz.edad}}" class="form-control">
                    </div>
                    <div class="section-left">
                        <label for="discapacidad" class="form-label">Discapacidad:</label>
                        <select id="discapacidad" name="discapacidad" class="form-select" required>
                            <option value="" disabled selected>seleccione aqui</option>
                            {% for discapacidad in discapacidades %}
                        
                            <option value="{{ discapacidad.id }}" {% if discapacidad.id == zz.discapacidad_id %}selected{% endif %}>{{ discapacidad.descripcion }}</option>
                            {% endfor %}
                        </select>
                        
                    </div>
                    <div class="section-right">
                    </div>
                </div>
                <h2 class="section-header">Nombre de Integrante Antiguo o Recomendado</h2>
                <div class="section-container">
                    
                    <div class="section-left">
                        <label for="nombre_integrante" class="form-label">Nombre Completo:</label>
                        <input type="text" id="nombre_integrante" name="nombre_integrante" value="{{zz.nombre_completo_recom}}"  class="form-control">
                    </div>
                    <div class="section-right">
                        <label for="direccion_integrante" class="form-label">Dirección:</label>
                        <input type="text" id="direccion_integrante" name="direccion_integrante" value="{{zz.direccion_recom}}" class="form-control">
                    </div>
                    <div class="section-left">
                        <label for="telefono_integrante" class="form-label">Teléfono:</label>
                        <input type="text" id="telefono_integrante" name="telefono_integrante" value="{{zz.celular_recom}}" class="form-control">
                    </div>
                </div>
                <h2 class="section-header">Referencia Familiar o Cónyuge</h2>
                <div class="section-container">
                    
                    <div class="section-left">
                        <label for="nombre_referencia" class="form-label">Nombre Completo:</label>
                        <input type="text" id="nombre_referencia" name="nombre_referencia" value="{{zz.nombre_completo_familiar}}"  class="form-control">
                    </div>
                    <div class="section-right">
                        <label for="direccion_referencia" class="form-label">Dirección:</label>
                        <input type="text" id="direccion_referencia" name="direccion_referencia" value="{{zz.direccion_familiar}}"  class="form-control">
                    </div>
                    <div class="section-left">
                        <label for="telefono_referencia" class="form-label">Teléfono:</label>
                        <input type="text" id="telefono_referencia" name="telefono_referencia" value="{{zz.celular_familiar}}"  class="form-control">
                    </div>
                </div>
                <h2 class="section-header">Beneficiario de Aporte o Deuda en Caso de Fallecimiento</h2>
                    <div class="section-person">
                {% for beneficiario in zz.personasbeneficiarios_set.all %}
                    <div class="section-container-2">
                        <div class="section-left-2">
                            <label for="nombre_beneficiario_{{ beneficiario.id }}" class="form-label">Nombre Completo:</label>
                            <input type="text" id="nombre_beneficiario_{{ beneficiario.id }}" name="nombre_beneficiario_{{ beneficiario.id }}" class="form-control" value="{{ beneficiario.beneficiario.nombre_completo }}">
                        </div>
                        <div class="section-middle-2">
                            <label for="porcentaje_beneficiario_{{ beneficiario.id }}" class="form-label">Porcentaje:</label>
                            <select id="porcentaje_beneficiario_{{ beneficiario.id }}" name="porcentaje_beneficiario_{{ beneficiario.id }}" class="form-select"  required>
                                <option value="" disabled selected>seleccione aqui</option>
                                {% for porcentaje in porcentajes %}
                                <option value="{{ porcentaje.id }}" {% if porcentaje.id == beneficiario.beneficiario.porcentaje_id %}selected{% endif %}>{{ porcentaje.descripcion }}</option>
                            {% endfor %}
                            </select>
                        </div>

                        <div class="section-right-2">
                            <label for="parentesco_beneficiario_{{ beneficiario.id }}" class="form-label">Parentesco:</label>
                            <select id="parentesco_beneficiario_{{ beneficiario.id }}" name="parentesco_beneficiario_{{ beneficiario.id }}" class="form-select" required>
                                <option value="" disabled selected>seleccione aqui</option>
                                {% for parentesco in parentescos %}
                                <option value="{{ parentesco.id }}" {% if parentesco.id == beneficiario.beneficiario.parentesco_id %}selected{% endif %}>{{ parentesco.descripcion }}</option>
                            {% endfor %}
                        </select>
                        </div>


                    </div>
                </br>
                {% endfor %}
                        
                    </div>
                        
                    </div>
                <h2 class="section-header">Compumaster</h2>
                <div class="section-container">

                    <div class="section-left">
                        <label for="grupo" class="form-label">Grupo:</label>
                        <select id="grupo" name="grupo" class="form-select" required>
                            <option value="" disabled>Seleccione aquí</option>
                            {% for grupo in grupos %}
                                <option value="{{ grupo.id }}" {% if grupo.id == zz.grupo_id %}selected{% endif %}>{{ grupo.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
    
                </div>
                <div class="section-person">
                    <h3 style="text-align: center;">
                        Fecha De Registro De Usuario: <span id="mesYAnioActual"></span>
                    </h3>
                    <script>
                        // Obtener la fecha actual
                        var fechaActual = new Date();
                    
                        // Obtener el mes y el año de la fecha actual
                        var mesActual = fechaActual.getMonth() + 1; // Sumamos 1 porque los meses van de 0 a 11
                        var anioActual = fechaActual.getFullYear();
                    
                        // Mostrar el mes y el año actual en la página
                        var mesYAnioActual = mesActual + "/" + anioActual;
                        document.getElementById("mesYAnioActual").textContent = mesYAnioActual;
                    </script>
                        
                </div>
                </br>
                <button type="submit" class="btn btn-primary">Guardar Datos</button>
                </div>
            </div>
        </form>
    </div>
</body>

</html>
{% endblock %}

